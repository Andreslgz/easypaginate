/*
 * Easy Paginate
 * 
 * written by Alen Grakalic - http://cssglobe.com
 * adapted by Devi Mandiri - http://devi.web.id
 * 
 * Copyright (c) 2011 Alen Grakalic (http://cssglobe.com)
 * Dual licensed under the MIT and GPL.
 */(function($){$.easyPaginate=function(el,options){var defaults={step:4,delay:4e3,numeric:!0,nextprev:!0,auto:!1,clickstop:!0,controls:"pagination",current:"current",container:"easy-paginate",prevContent:"Previous",nextContent:"Next",onClick:!1,onSlide:!1},plugin=this;plugin.$el=$(el),plugin.$el.data("easyPaginate",plugin);var step,lower,upper,children=plugin.$el.children(),count=children.length,next,prev,page=1,timer,clicked=!1,activePage,_idx,show=function(){lower=(page-1)*step,upper=lower+step,_idx=0,children.removeClass("current"),children.hide().slice(lower,upper).show(),activePage=children.not(":hidden"),plugin.$el.find(".current").length<1&&activePage.eq(0).addClass("current"),count>step&&plugin.options.nextprev&&(upper>=count?next.hide():next.show(),lower>=1?prev.show():prev.hide());var o=plugin.$el.parent().find("."+plugin.options.controls);o.length>0&&(o.find("li").removeClass(plugin.options.current),o.find('li[data-index="'+page+'"]').addClass(plugin.options.current)),_slide()},_slide=function(){clearTimeout(timer);if(plugin.options.auto)if(!plugin.options.clickstop||!clicked)if(_idx>=activePage.length)upper>=count?page=1:page++,show();else{if($.isFunction(plugin.options.onSlide)){var el=plugin.$el.find(".current");el.length>0&&plugin.options.onSlide.apply(el,arguments)}timer=setTimeout(function(){children.removeClass("current"),activePage.eq(_idx+1).addClass("current"),_idx++,_slide()},plugin.options.delay)}};plugin.pause=function(){clicked=!1,plugin.options.auto=!1,_slide()},plugin.slide=function(){plugin.options.auto=!0,clicked=!1,_slide()};var init=function(){plugin.options=$.extend({},defaults,options),plugin.$el.wrap('<div class="'+plugin.options.container+'" />'),step=plugin.options.step;if(count>step){var pages=Math.floor(count/step);count/step>pages&&pages++;var ol=$('<ol class="'+plugin.options.controls+'"></ol>').insertAfter(plugin.$el);plugin.options.nextprev&&(prev=$('<li class="prev">'+plugin.options.prevContent+"</li>").hide().appendTo(ol).click(function(){clicked=!0,page--,show()}));if(plugin.options.numeric)for(var i=1;i<=pages;i++)$('<li data-index="'+i+'">'+i+"</li>").appendTo(ol).click(function(){clicked=!0,page=$(this).attr("data-index"),show()});plugin.options.nextprev&&(next=$('<li class="next">'+plugin.options.nextContent+"</li>").hide().appendTo(ol).click(function(){clicked=!0,page++,show()}))}$.isFunction(plugin.options.onClick)&&children.click(function(){children.removeClass("current"),$(this).addClass("current"),_idx=children.not(":hidden").index(this),plugin.pause(),plugin.options.onClick.apply(this,arguments)}),show()};init()},$.fn.easyPaginate=function(options){return undefined==$(this).data("easyPaginate")?this.each(function(){new $.easyPaginate(this,options)}):$(this).data("easyPaginate")}})(jQuery)